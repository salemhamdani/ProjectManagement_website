{% extends 'base.html.twig' %}
{% block body %}
    {{ parent() }}
    <main>
        <div class="container-fluid px-4">
            <h1 class="mt-4">Updating User Info   </h1>
            <ol class="breadcrumb mb-4">
                <li class="breadcrumb-item"><a href="">Dashboard</a></li>
                <li class="breadcrumb-item active">Update User</li>
            </ol>
            <form action="{{ path('modify_user',{'id':user.id }) }}" method="post"  enctype="multipart/form-data">
                <div class="form-group">
                    <label >Name</label>
                    <input type="text" class="form-control" id="name"   value="{{ user.name }}" name="name">
                </div>
                <div class="form-group">
                    <label >Email </label>
                    <input type="email" class="form-control" value="{{user.email  }}" name="email">

                </div>
                <div class="form-group">
                    <label for="address" >Address</label>
                    <input type="text" class="form-control" id="address" value="{{ user.address }}" name="address">
                </div>
                <div class="form-group">
                    <label for="role" >Role</label>
                    <select class="form-control" id="role" name="role" >
                       <option value="ADMIN" {% if (user.role == 'ADMIN') %} selected {% endif %}>ADMIN</option>
                       <option value="USER" {% if (user.role == 'USER') %} selected {% endif %}> USER</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-secondary" value="info" name="submit">Save changed Info</button>
            </form>

        </div>
        <div class="container-fluid px-4">
            <h1 class="mt-4">Updating User Password   </h1>
            <form action="{{ path('modify_user',{'id':user.id }) }}" method="post"  enctype="multipart/form-data"
                  oninput='password2.setCustomValidity(password2.value != password.value ? "Passwords do not match." : "")'>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" class="form-control" id="password"  name="password" required>
                </div>
                <div class="form-group">
                    <label>Confirm Password</label>
                    <input type="password" class="form-control" id="password"  name="password2" required>
                </div>
                <button type="submit" class="btn btn-secondary" value="password" name="submit">Save Password</button>
            </form>

        </div>
    </main>
{% endblock %}