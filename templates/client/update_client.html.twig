{% extends 'base.html.twig' %}
{% block body %}
    {{ parent() }}
    <main>
        <div class="container-fluid px-4">
            <h1 class="mt-4">Updating Client Info   </h1>
            <ol class="breadcrumb mb-4">
                <li class="breadcrumb-item"><a href="">Dashboard</a></li>
                <li class="breadcrumb-item active">Update Client</li>
            </ol>
            <form action="{{ path('modify_client',{'id':client.id }) }}" method="post"  enctype="multipart/form-data">
                <div class="form-group">
                    <label >Name</label>
                    <input type="text" class="form-control" id="name"   value="{{ client.name }}" name="name">
                </div>
                <div class="form-group">
                    <label >Email </label>
                    <input type="email" class="form-control" value="{{client.email  }}" name="email">

                </div>
                <div class="form-group">
                    <label for="address" >Address</label>
                    <input type="text" class="form-control" id="address" value="{{ client.address }}" name="address">

                </div>
                <div class="form-group">
                    <label for="address" >Phone</label>
                    <input type="number" class="form-control" id="phone" value="{{ client.phone }}" name="phone">

                </div>
                <button type="submit" class="btn btn-secondary" value="info" name="submit">Save changed Info</button>
            </form>

        </div>
        <div class="card mb-4">
            <div class="card-header">
                <i class="fas fa-table me-1"></i>
                Users Related To {{ client.name }}
                <a href={{ path("add_user") }}>
                    <button class="btn btn-secondary">Add User</button>
                </a>
            </div>
            <div class="card-body">
                <table id="datatablesSimple">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Address</th>
                        <th>Role</th>
                        <th>Client</th>
                        <th>Update</th>
                        <th>Delete</th>
                    </tr>
                    </thead>
                    <tfoot>
                    <tr>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Address</th>
                        <th>Role</th>
                        <th>Client</th>
                        <th>Update</th>
                        <th>Delete</th>
                    </tr>
                    </tfoot>
                    <tbody>
                    {% for user in users %}
                        <tr>
                            <td>{{ user.name }}</td>
                            <td>{{ user.email }}</td>
                            <td>{{ user.address }}</td>
                            <td>{{ user.role }}</td>
                            <td>{{ user.client }}</td>
                            <td>
                                &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                <a href={{ path('update_user', {'id': user.id }) }}><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-clipboard-plus" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M8 7a.5.5 0 0 1 .5.5V9H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V10H6a.5.5 0 0 1 0-1h1.5V7.5A.5.5 0 0 1 8 7z"/>
                                        <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
                                        <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
                                    </svg>
                                </a>
                            </td>
                            <td>
                                &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                <a href={{ path('delete_user', {'id': user.id }) }}>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-x-square" viewBox="0 0 16 16">
                                        <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                                        <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                    </svg>
                                </a>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </main>
{% endblock %}
{% block js  %}
    {{ parent() }}
    <script src="/assets/js/datatables-simple-demo.js"></script>
{% endblock %}